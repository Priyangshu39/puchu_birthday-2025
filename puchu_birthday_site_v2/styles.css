:root{
  --bg: #fff6f9;
  --panel: #ffffff;
  --accent: #ffb6d2;
  --muted: #6b6b6b;
  --pink: #ffd6e8;
  --primary: #ff8fb8;
  --shadow: rgba(0,0,0,0.08);
}
*{box-sizing:border-box}
body{margin:0;font-family: 'Segoe UI', Roboto, Arial, sans-serif;background: linear-gradient(180deg,var(--bg),#fff);color:#222;-webkit-font-smoothing:antialiased;}
.page{max-width:980px;margin:30px auto;padding:24px;}
.scene{display:none}
.page-visible{display:block}
.center-card{background:var(--panel);padding:22px;border-radius:16px;box-shadow:0 10px 28px var(--shadow);text-align:center}
.title{margin:0;font-family: 'Dancing Script', cursive;font-size:34px;color:#222;}
.subtitle{color:var(--muted);margin-top:8px; font-size:15px}
.controls{margin-top:18px;display:flex;gap:12px;justify-content:center;align-items:center}
.btn{border-radius:10px;padding:10px 14px;border:none;background:#fff;border:1px solid #eee;cursor:pointer;font-size:14px}
.btn.primary{background:var(--primary);color:white;border:none;box-shadow:0 6px 18px rgba(255,140,170,0.12)}

/* candles */
.candles{display:flex;gap:12px;justify-content:center;margin:18px 0 6px}
.candle{width:18px;height:80px;position:relative;display:flex;flex-direction:column;align-items:center}
.stick{width:14px;height:48px;background:#fbe9ef;border-radius:6px;box-shadow:inset 0 -6px 10px rgba(0,0,0,0.02);margin-top:12px}
.flame{width:8px;height:16px;background: radial-gradient(circle at 30% 30%, #fff6b3 0,#ffd05a 30%, #ff6b6b 70%);border-radius:50% 50% 50% 50%;position:absolute;top:-6px;box-shadow:0 6px 14px rgba(255,120,160,0.25), 0 0 18px rgba(255,200,220,0.18);animation:flame 900ms infinite}
@keyframes flame{0%{transform:translateY(0) scale(1)}50%{transform:translateY(-4px) scale(1.06)}100%{transform:translateY(0) scale(1)}}
.candle.out .flame{opacity:0;transform:scale(0.6);transition:opacity .6s, transform .6s;box-shadow:none}

/* cake */
.cake-area{display:flex;justify-content:center;margin:18px 0}
.cake{width:280px;height:180px;position:relative;cursor:pointer;transition:transform .35s ease}
.cake-top{position:absolute;top:8px;left:14%;right:14%;height:60px;background:linear-gradient(180deg,#fff2f6,#ffd6e8);border-radius:40px 40px 18px 18px;box-shadow:0 8px 18px rgba(0,0,0,0.06)}
.cake-body{position:absolute;bottom:18px;left:6%;right:6%;height:90px;background:linear-gradient(180deg,#ffd6e8,#ffb6d2);border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,0.08)}
.cake-plate{position:absolute;bottom:4px;left:0;right:0;height:24px;background:#fff;border-radius:8px;box-shadow:0 8px 20px rgba(0,0,0,0.05)}

/* cake slice animation: small slide + sparkle */
.cake.sliced{animation:cakeSlice 700ms forwards}
@keyframes cakeSlice{
  0%{transform:translateY(0) scale(1)}
  40%{transform:translateY(-8px) scale(1.02)}
  100%{transform:translateY(0) scale(1)}
}

/* collage upgraded */
.collage-upgrade{margin-top:18px;text-align:left}
.top-row{display:flex;gap:10px;margin-bottom:12px}
.top-row .large{flex:1;height:220px;border-radius:14px;overflow:hidden;box-shadow:0 10px 24px var(--shadow)}
.top-row img{width:100%;height:100%;object-fit:cover;display:block}

.middle-row{display:flex;gap:10px;margin-bottom:12px}
.quote-box{flex:1;background:#fff;border-radius:12px;padding:16px;box-shadow:0 8px 20px var(--shadow);display:flex;align-items:center;justify-content:center}
.quote{font-style:italic;color:#b83b7a;margin:0;font-size:16px}
.middle-row .tall{width:42%;height:260px;overflow:hidden;border-radius:12px;box-shadow:0 10px 24px var(--shadow)}
.middle-row img{width:100%;height:100%;object-fit:cover}

.bottom-row{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
.bottom-row .small{height:120px;border-radius:10px;overflow:hidden;background:#fff;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 18px var(--shadow)}
.bottom-row img{width:100%;height:100%;object-fit:cover;display:block}

/* polaroid style */
.polaroid{background:#fff;padding:8px;border-radius:8px}
.polaroid img{border-radius:6px}

/* message card */
.message-card{margin-top:18px;padding:12px;background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,245,250,0.95));border-radius:12px;box-shadow:0 8px 24px var(--shadow);text-align:left}
.card h2{font-family: 'Dancing Script', cursive;color:#b83b7a;font-size:22px;margin:0 0 8px}
.wish{color:#333;line-height:1.6;font-size:15px}

/* footer */
.footer{text-align:center;margin-top:18px;color:var(--muted);font-size:14px}

/* responsive */
@media(max-width:880px){
  .top-row{flex-direction:column}
  .middle-row{flex-direction:column}
  .middle-row .tall{width:100%;height:220px}
  .bottom-row{grid-template-columns:repeat(2,1fr)}
}
